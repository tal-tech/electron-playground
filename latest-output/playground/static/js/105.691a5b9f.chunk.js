(this["webpackJsonpelectron-playground"]=this["webpackJsonpelectron-playground"]||[]).push([[105],{1358:function(n,o){n.exports=["## 1. \u4e3b\u7a97\u53e3\u9690\u85cf\u548c\u6062\u590d\n\n### 1.1. \u4e3b\u7a97\u53e3\n\n#### 1.1.1. \u4e3a\u4ec0\u4e48\u9700\u8981 __\u4e3b\u7a97\u53e3__?\n\n\u4e00\u4e2a\u5e94\u7528\u5b58\u5728\u7740\u8bb8\u591a\u7684\u7a97\u53e3\uff0c\u9700\u8981\u4e00\u4e2a\u7a97\u53e3\u4f5c\u4e3a __\u4e3b\u7a97\u53e3__\uff0c\u5982\u679c\u8be5\u7a97\u53e3\u5173\u95ed\uff0c\u5219\u610f\u5473\u7740\u6574\u4e2a\u5e94\u7528\u88ab\u5173\u95ed\u3002\n\n\u573a\u666f\uff1a\u5728\u5e94\u7528\u53ea\u6709\u4e00\u4e2a\u9875\u9762\u7684\u65f6\uff0c\u7528\u6237\u70b9\u51fb\u5173\u95ed\u6309\u94ae\uff0c\u4e0d\u60f3\u8ba9\u6574\u4e2a\u5e94\u7528\u5173\u95ed\uff0c\u800c\u662f\u9690\u85cf\uff1b    \n\u4f8b\u5982\uff1a\u5176\u4ed6\u7684app\uff0c\u50cf\u5fae\u4fe1\uff0cQQ\u7b49\u684c\u9762\u7aef\u3002  \n\n\u4e3b\u8fdb\u7a0b\u4ee3\u7801\u793a\u4f8b\uff0c\u5b8c\u6574\u4ee3\u7801\u5728\u672c\u5e94\u7528\u7684`app/browser-window/index.ts`\u5904\n```javascript\nlet mainWindowId: number\n\nconst browserWindow = new BrowserWindow()\n\n// \u8bb0\u5f55\u4e0b\u4e3b\u7a97\u53e3id\nif (!mainWindowId) {\n  mainWindowId = browserWindow.id\n}\n\nbrowserWindow.on('close', event => {\n  // \u5982\u679c\u5173\u95ed\u7684\u662f\u4e3b\u7a97\u53e3\uff0c\u963b\u6b62\n  if (browserWindow.id === mainWindowId) {\n    event.preventDefault()\n    browserWindow.hide()\n  }\n})\n```\n#### 1.1.2. \u6062\u590d\u4e3b\u7a97\u53e3\u663e\u793a\n```javascript\nconst mainWindow = BrowserWindowsMap.get(mainWindowId)\nif (mainWindow) {\n  mainWindow.restore()\n  // windows\u4e0b\u5982\u679chide\u4e4b\u540e\u4e0d\u8c03\u7528show\u65b9\u6cd5\u800c\u662f\u53ea\u8c03\u7528restore\u65b9\u6cd5\u5c31\u4f1a\u5bfc\u81f4\u9875\u9762\u6302\u4f4f\u4e0d\u80fd\u7528\n  mainWindow.show()\n}\n```\n#### 1.1.3. \u5f3a\u5236\u5173\u95ed\u4e3b\u7a97\u53e3\n```javascript\nconst mainWindow = BrowserWindowsMap.get(mainWindowId)\nif (mainWindow) {\n  mainWindowId = -1\n  mainWindow.close()\n}\n```\n\n### 1.2. \u5b58\u5728\u7684\u95ee\u9898\n####  1.2.1. \u56e0\u4e3a\u963b\u6b62\u4e86close\u4e8b\u4ef6\uff0c\u5bfc\u81f4 __\u5173\u673a__ \u65f6\u65e0\u6cd5\u5173\u95ed __\u4e3b\u7a97\u53e3__\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\uff1a\n```javascript\napp.on('before-quit', () => {\n    closeMainWindow()\n})\n```\n*\u6ce8\uff1a`macOS` `Linux` `Windows` [\u5b8c\u6574\u6587\u6863](https://www.electronjs.org/docs/api/app#%E4%BA%8B%E4%BB%B6%EF%BC%9Abefore-quit)*  \n\n####  1.2.2. \u4e3a\u907f\u514d\u542f\u52a8 __\u591a\u4e2a\u5e94\u7528__\uff1b\n```javascript\napp.on('second-instance', () => {\n  const mainWindow = BrowserWindowsMap.get(mainWindowId)\n  if (mainWindow) {\n    mainWindow.restore()\n    mainWindow.show()\n  }\n})\n```\n*\u6ce8\uff1a`macOS` `Linux` `Windows` [\u5b8c\u6574\u6587\u6863](https://www.electronjs.org/docs/api/app#%E4%BA%8B%E4%BB%B6-second-instance)*  \n\n#### 1.2.3. \u9996\u6b21\u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\u3001\u5c1d\u8bd5\u5728\u5e94\u7528\u7a0b\u5e8f\u5df2\u8fd0\u884c\u65f6\u6216\u5355\u51fb __\u5e94\u7528\u7a0b\u5e8f__ \u7684 __\u575e\u7ad9__ \u6216 __\u4efb\u52a1\u680f\u56fe\u6807__ \u65f6\u91cd\u65b0\u6fc0\u6d3b\u5b83\uff1b\n```javascript\napp.on('activate', () => {\n  if (mainWindow) {\n    mainWindow.restore()\n    mainWindow.show()\n  }\n})\n```\n*\u6ce8\uff1a`macOS` [\u6587\u6863](https://www.electronjs.org/docs/api/app#%E4%BA%8B%E4%BB%B6-second-instance)*\n\n\n#### 1.2.4. __\u53cc\u51fb\u6258\u76d8\u56fe\u6807__ \u6253\u5f00`app`\uff0c\u5b8c\u6574\u4ee3\u7801\u89c1`app/tray`\u3002\n```javascript\ntray.on('double-click', () => {\n  if (mainWindow) {\n    mainWindow.restore()\n    mainWindow.show()\n  }\n})\n```\n\n*\u6ce8\uff1a`macOS`  `Windows` [\u6587\u6863](https://www.electronjs.org/docs/api/tray#event-double-click-macos-windows)*\n\n### 1.3. \u5b9e\u4f8b\n> \u4f60\u53ef\u4ee5\u64cd\u4f5c\u672c\u5e94\u7528\u7684\u4e3b\u7a97\u53e3\n\n### 1.4. \u6587\u6863\n\u5982\u679c\u4f60\u8fd8\u662f\u65b0\u624b\uff0c\u6216\u8005\u6ca1\u6709\u5f00\u53d1\u8fc7`electron`\u5e94\u7528\uff0c\u6d4f\u89c8\u5668\u6253\u5f00 [\u6253\u9020\u4f60\u7684\u7b2c\u4e00\u4e2a Electron \u5e94\u7528\n](https://www.electronjs.org/docs/tutorial/first-app#%E6%89%93%E9%80%A0%E4%BD%A0%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA-electron-%E5%BA%94%E7%94%A8)\n\n"].join("")}}]);